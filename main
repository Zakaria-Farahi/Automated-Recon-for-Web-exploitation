#!/bin/bash

# Output path for the results
OUTPUT_PATH="/path/to/output"

# Function to display help message
function show_help() {
  echo "Usage: $0 <domain>"
  echo "       $0 -h  Display this help message"
}

# Check if a help flag is provided or no argument is given
if [[ "$1" == "-h" ]] || [[ $# -ne 1 ]]; then
  show_help
  exit 1
fi

# The domain to be analyzed
DOMAIN=$1

# Check if the domain is a valid format (basic regex for demonstration)
if ! [[ "$DOMAIN" =~ ^[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$ ]]; then
  echo "Invalid domain format: $DOMAIN"
  exit 1
fi

# Run Sublist3r to find subdomains
./run_sublist3r.sh $DOMAIN

./run_nmap.sh ./Subdomain/Sublist3r/res_Sub.txt

./url_js_extractor.sh ./Subdomain/Sublist3r/res_Sub.txt
